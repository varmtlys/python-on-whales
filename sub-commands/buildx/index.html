
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Python on whales docs">
      
      
      
      
        <link rel="prev" href="../../docker_client/">
      
      
        <link rel="next" href="../compose/">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.1.14">
    
    
      
        <title>docker buildx - Python on whales</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.85bb2934.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#python_on_whales.components.buildx.cli_wrapper.BuildxCLI" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Python on whales" class="md-header__button md-logo" aria-label="Python on whales" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Python on whales
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              docker buildx
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/gabrieldemarmiesse/python-on-whales" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Python on whales" class="md-nav__button md-logo" aria-label="Python on whales" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Python on whales
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/gabrieldemarmiesse/python-on-whales" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../docker_client/" class="md-nav__link">
        Docker client
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Sub-commands
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Sub-commands
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          docker buildx
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        docker buildx
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#python_on_whales.components.buildx.cli_wrapper.BuildxCLI.bake" class="md-nav__link">
    bake()
  </a>
  
    <nav class="md-nav" aria-label="bake()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#python_on_whales.components.buildx.cli_wrapper.BuildxCLI.bake--returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python_on_whales.components.buildx.cli_wrapper.BuildxCLI.build" class="md-nav__link">
    build()
  </a>
  
    <nav class="md-nav" aria-label="build()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#python_on_whales.components.buildx.cli_wrapper.BuildxCLI.build--returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python_on_whales.components.buildx.cli_wrapper.BuildxCLI.create" class="md-nav__link">
    create()
  </a>
  
    <nav class="md-nav" aria-label="create()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#python_on_whales.components.buildx.cli_wrapper.BuildxCLI.create--returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python_on_whales.components.buildx.cli_wrapper.BuildxCLI.disk_usage" class="md-nav__link">
    disk_usage()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python_on_whales.components.buildx.cli_wrapper.BuildxCLI.inspect" class="md-nav__link">
    inspect()
  </a>
  
    <nav class="md-nav" aria-label="inspect()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#python_on_whales.components.buildx.cli_wrapper.BuildxCLI.inspect--returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python_on_whales.components.buildx.cli_wrapper.BuildxCLI.is_installed" class="md-nav__link">
    is_installed()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python_on_whales.components.buildx.cli_wrapper.BuildxCLI.list" class="md-nav__link">
    list()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python_on_whales.components.buildx.cli_wrapper.BuildxCLI.prune" class="md-nav__link">
    prune()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python_on_whales.components.buildx.cli_wrapper.BuildxCLI.remove" class="md-nav__link">
    remove()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python_on_whales.components.buildx.cli_wrapper.BuildxCLI.stop" class="md-nav__link">
    stop()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python_on_whales.components.buildx.cli_wrapper.BuildxCLI.use" class="md-nav__link">
    use()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python_on_whales.components.buildx.cli_wrapper.BuildxCLI.version" class="md-nav__link">
    version()
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../compose/" class="md-nav__link">
        docker compose
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../config/" class="md-nav__link">
        docker config
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../container/" class="md-nav__link">
        docker container
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../context/" class="md-nav__link">
        docker context
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../image/" class="md-nav__link">
        docker image
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../manifest/" class="md-nav__link">
        docker manifest
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../network/" class="md-nav__link">
        docker network
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../node/" class="md-nav__link">
        docker node
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../plugin/" class="md-nav__link">
        docker plugin
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../secret/" class="md-nav__link">
        docker secret
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../service/" class="md-nav__link">
        docker service
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../stack/" class="md-nav__link">
        docker stack
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../swarm/" class="md-nav__link">
        docker swarm
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../system/" class="md-nav__link">
        docker system
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../task/" class="md-nav__link">
        docker task
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trust/" class="md-nav__link">
        docker trust
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../volume/" class="md-nav__link">
        docker volume
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Docker objects
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Docker objects
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docker_objects/builders/" class="md-nav__link">
        Builders
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docker_objects/configs/" class="md-nav__link">
        Configs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docker_objects/containers/" class="md-nav__link">
        Containers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docker_objects/images/" class="md-nav__link">
        Images
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docker_objects/networks/" class="md-nav__link">
        Networks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docker_objects/nodes/" class="md-nav__link">
        Nodes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docker_objects/plugins/" class="md-nav__link">
        Plugins
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docker_objects/secrets/" class="md-nav__link">
        Secrets
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docker_objects/services/" class="md-nav__link">
        Services
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docker_objects/stacks/" class="md-nav__link">
        Stacks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docker_objects/tasks/" class="md-nav__link">
        Tasks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docker_objects/volumes/" class="md-nav__link">
        Volumes
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          User guide
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          User guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user_guide/docker_run/" class="md-nav__link">
        docker.run() guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user_guide/generic_resources/" class="md-nav__link">
        Swarm generic resources
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user_guide/running_python_on_whales_inside_a_container/" class="md-nav__link">
        Running python-on-whales inside a container
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user_guide/exceptions/" class="md-nav__link">
        dealing with exceptions
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#python_on_whales.components.buildx.cli_wrapper.BuildxCLI.bake" class="md-nav__link">
    bake()
  </a>
  
    <nav class="md-nav" aria-label="bake()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#python_on_whales.components.buildx.cli_wrapper.BuildxCLI.bake--returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python_on_whales.components.buildx.cli_wrapper.BuildxCLI.build" class="md-nav__link">
    build()
  </a>
  
    <nav class="md-nav" aria-label="build()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#python_on_whales.components.buildx.cli_wrapper.BuildxCLI.build--returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python_on_whales.components.buildx.cli_wrapper.BuildxCLI.create" class="md-nav__link">
    create()
  </a>
  
    <nav class="md-nav" aria-label="create()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#python_on_whales.components.buildx.cli_wrapper.BuildxCLI.create--returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python_on_whales.components.buildx.cli_wrapper.BuildxCLI.disk_usage" class="md-nav__link">
    disk_usage()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python_on_whales.components.buildx.cli_wrapper.BuildxCLI.inspect" class="md-nav__link">
    inspect()
  </a>
  
    <nav class="md-nav" aria-label="inspect()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#python_on_whales.components.buildx.cli_wrapper.BuildxCLI.inspect--returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python_on_whales.components.buildx.cli_wrapper.BuildxCLI.is_installed" class="md-nav__link">
    is_installed()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python_on_whales.components.buildx.cli_wrapper.BuildxCLI.list" class="md-nav__link">
    list()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python_on_whales.components.buildx.cli_wrapper.BuildxCLI.prune" class="md-nav__link">
    prune()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python_on_whales.components.buildx.cli_wrapper.BuildxCLI.remove" class="md-nav__link">
    remove()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python_on_whales.components.buildx.cli_wrapper.BuildxCLI.stop" class="md-nav__link">
    stop()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python_on_whales.components.buildx.cli_wrapper.BuildxCLI.use" class="md-nav__link">
    use()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python_on_whales.components.buildx.cli_wrapper.BuildxCLI.version" class="md-nav__link">
    version()
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<div class="doc doc-object doc-class">



<h1 id="python_on_whales.components.buildx.cli_wrapper.BuildxCLI" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">BuildxCLI</span>


</h1>


  <div class="doc doc-contents first">



  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h2 id="python_on_whales.components.buildx.cli_wrapper.BuildxCLI.bake" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">bake</span>


</h2>
<div class="highlight"><pre><span></span><code><span class="n">bake</span><span class="p">(</span><span class="n">targets</span><span class="o">=</span><span class="p">[],</span> <span class="n">builder</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">files</span><span class="o">=</span><span class="p">[],</span> <span class="n">load</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">cache</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="nb">print</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">progress</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">,</span> <span class="n">pull</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">push</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">set</span><span class="o">=</span><span class="p">{},</span> <span class="n">variables</span><span class="o">=</span><span class="p">{},</span> <span class="n">stream_logs</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Bake is similar to make, it allows you to build things declared in a file.</p>
<p>For example it allows you to build multiple docker image in parallel.</p>
<p>The CLI docs is <a href="https://github.com/docker/buildx#buildx-bake-options-target">here</a>
and it contains a lot more information.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>targets</code></td>
          <td>
                <code><span title="typing.Union">Union</span>[str, <span title="typing.List">List</span>[str]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Targets or groups of targets to build.</p>
            </div>
          </td>
          <td>
                <code>[]</code>
          </td>
        </tr>
        <tr>
          <td><code>builder</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="python_on_whales.components.buildx.cli_wrapper.ValidBuilder">ValidBuilder</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The builder to use.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>files</code></td>
          <td>
                <code><span title="typing.Union">Union</span>[<span title="python_on_whales.utils.ValidPath">ValidPath</span>, <span title="typing.List">List</span>[<span title="python_on_whales.utils.ValidPath">ValidPath</span>]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Build definition file(s)</p>
            </div>
          </td>
          <td>
                <code>[]</code>
          </td>
        </tr>
        <tr>
          <td><code>load</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Shorthand for <code>set=["*.output=type=docker"]</code></p>
            </div>
          </td>
          <td>
                <code>False</code>
          </td>
        </tr>
        <tr>
          <td><code>cache</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Whether to use the cache or not.</p>
            </div>
          </td>
          <td>
                <code>True</code>
          </td>
        </tr>
        <tr>
          <td><code>print</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Do nothing, just returns the config.</p>
            </div>
          </td>
          <td>
                <code>False</code>
          </td>
        </tr>
        <tr>
          <td><code>progress</code></td>
          <td>
                <code><span title="typing.Literal">Literal</span>[&#39;auto&#39;, &#39;plain&#39;, &#39;tty&#39;, False]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Set type of progress output (<code>"auto"</code>, <code>"plain"</code>, <code>"tty"</code>,
or <code>False</code>). Use plain to keep the container output on screen</p>
            </div>
          </td>
          <td>
                <code>&#39;auto&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>pull</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Always try to pull the newer version of the image</p>
            </div>
          </td>
          <td>
                <code>False</code>
          </td>
        </tr>
        <tr>
          <td><code>push</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Shorthand for <code>set=["*.output=type=registry"]</code></p>
            </div>
          </td>
          <td>
                <code>False</code>
          </td>
        </tr>
        <tr>
          <td><code>set</code></td>
          <td>
                <code><span title="typing.Dict">Dict</span>[str, str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A list of overrides in the form <code>"targetpattern.key=value"</code>.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
        <tr>
          <td><code>variables</code></td>
          <td>
                <code><span title="typing.Dict">Dict</span>[str, str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A dict containing the values of the variables defined in the
hcl file. See <a href="https://github.com/docker/buildx#hcl-variables-and-functions">https://github.com/docker/buildx#hcl-variables-and-functions</a></p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
    </tbody>
  </table>
      <h3 id="python_on_whales.components.buildx.cli_wrapper.BuildxCLI.bake--returns">Returns</h3>
<pre><code>The configuration used for the bake (files merged + override with
the arguments used in the function). It's the loaded json you would
obtain by running `docker buildx bake --print --load my_target` if
your command was `docker buildx bake --load my_target`. Some example here.
</code></pre>
<pre><code class="language-python">from python_on_whales import docker

# returns the config used and runs the builds
config = docker.buildx.bake([&quot;my_target1&quot;, &quot;my_target2&quot;], load=True)
assert config == {
    &quot;target&quot;: {
        &quot;my_target1&quot;: {
            &quot;context&quot;: &quot;./&quot;,
            &quot;dockerfile&quot;: &quot;Dockerfile&quot;,
            &quot;tags&quot;: [&quot;pretty_image1:1.0.0&quot;],
            &quot;target&quot;: &quot;out1&quot;,
            &quot;output&quot;: [&quot;type=docker&quot;]
        },
        &quot;my_target2&quot;: {
            &quot;context&quot;: &quot;./&quot;,
            &quot;dockerfile&quot;: &quot;Dockerfile&quot;,
            &quot;tags&quot;: [&quot;pretty_image2:1.0.0&quot;],
            &quot;target&quot;: &quot;out2&quot;,
            &quot;output&quot;: [&quot;type=docker&quot;]
        }
    }
}

# returns the config only, doesn't run the builds
config = docker.buildx.bake([&quot;my_target1&quot;, &quot;my_target2&quot;], load=True, print=True)
</code></pre>

  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="python_on_whales.components.buildx.cli_wrapper.BuildxCLI.build" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">build</span>


</h2>
<div class="highlight"><pre><span></span><code><span class="n">build</span><span class="p">(</span><span class="n">context_path</span><span class="p">,</span> <span class="n">add_hosts</span><span class="o">=</span><span class="p">{},</span> <span class="n">allow</span><span class="o">=</span><span class="p">[],</span> <span class="n">attest</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">build_args</span><span class="o">=</span><span class="p">{},</span> <span class="n">build_contexts</span><span class="o">=</span><span class="p">{},</span> <span class="n">builder</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cache</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cache_from</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cache_to</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="p">{},</span> <span class="n">load</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">network</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">output</span><span class="o">=</span><span class="p">{},</span> <span class="n">platforms</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">progress</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">,</span> <span class="n">provenance</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">pull</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">push</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">sbom</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">secrets</span><span class="o">=</span><span class="p">[],</span> <span class="n">ssh</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[],</span> <span class="n">target</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">stream_logs</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Build a Docker image with builkit as backend.</p>
<p>Alias: <code>docker.build(...)</code></p>
<p>A <code>python_on_whales.Image</code> is returned, even when using multiple tags.
That is because it will produce a single image with multiple tags.
If no image is loaded into the Docker daemon (if <code>push=True</code> for ex),
then <code>None</code> is returned.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>context_path</code></td>
          <td>
                <code><span title="python_on_whales.utils.ValidPath">ValidPath</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The path of the build context.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>add_hosts</code></td>
          <td>
                <code><span title="typing.Dict">Dict</span>[str, str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Hosts to add. <code>add_hosts={"my_host1": "192.168.32.35"}</code></p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
        <tr>
          <td><code>allow</code></td>
          <td>
                <code><span title="typing.List">List</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>List of extra privileges.
Eg <code>allow=["network.host", "security.insecure"]</code></p>
            </div>
          </td>
          <td>
                <code>[]</code>
          </td>
        </tr>
        <tr>
          <td><code>attest</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="typing.Dict">Dict</span>[str, str]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Attestation parameters. Eg <code>attest={"type": "sbom", "generator": "my_image"}</code></p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>build_args</code></td>
          <td>
                <code><span title="typing.Dict">Dict</span>[str, str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The build arguments.
ex <code>build_args={"PY_VERSION": "3.7.8", "UBUNTU_VERSION": "20.04"}</code>.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
        <tr>
          <td><code>build_contexts</code></td>
          <td>
                <code><span title="typing.Dict">Dict</span>[str, <span title="typing.Union">Union</span>[str, <span title="python_on_whales.utils.ValidPath">ValidPath</span>]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Additional build contexts.
<code>build_contexts={[name]: [value], ...}</code>
Supports local directories, git repositories, HTTP URL to a tarball, a docker
image defined with a <code>docker-image://</code> prefix, and the <code>oci-layout://</code> protocol.
ex <code>build_contexts={"project2": "../path/to/project2/src", "qumu-src": "https://github.com/qemu/qemu.git"}</code>.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
        <tr>
          <td><code>builder</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="python_on_whales.components.buildx.cli_wrapper.ValidBuilder">ValidBuilder</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Specify which builder to use.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>cache</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Whether or not to use the cache</p>
            </div>
          </td>
          <td>
                <code>True</code>
          </td>
        </tr>
        <tr>
          <td><code>cache_from</code></td>
          <td>
                <code><span title="typing.Union">Union</span>[str, <span title="typing.Dict">Dict</span>[str, str], <span title="typing.List">List</span>[<span title="typing.Dict">Dict</span>[str, str]], None]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Works only with the container driver. Loads the cache
(if needed) from a registry <code>cache_from="user/app:cache"</code>  or
a directory on the client <code>cache_from="type=local,src=path/to/dir"</code>.
It's also possible to use a dict or list of dict form for this
argument. e.g.
<code>cache_from=dict(type="local", src="path/to/dir")</code></p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>cache_to</code></td>
          <td>
                <code><span title="typing.Union">Union</span>[str, <span title="typing.Dict">Dict</span>[str, str], None]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Works only with the container driver. Sends the resulting
docker cache either to a registry <code>cache_to="user/app:cache"</code>,
or to a local directory <code>cache_to="type=local,dest=path/to/dir"</code>.
It's also possible to use a dict form for this argument. e.g.
<code>cache_to=dict(type="local", dest="path/to/dir", mode="max")</code></p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>file</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="python_on_whales.utils.ValidPath">ValidPath</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The path of the Dockerfile</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>labels</code></td>
          <td>
                <code><span title="typing.Dict">Dict</span>[str, str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Dict of labels to add to the image.
<code>labels={"very-secure": "1", "needs-gpu": "0"}</code> for example.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
        <tr>
          <td><code>load</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Shortcut for <code>output=dict(type="docker")</code> If <code>True</code>,
<code>docker.buildx.build</code> will return a <code>python_on_whales.Image</code>.</p>
            </div>
          </td>
          <td>
                <code>False</code>
          </td>
        </tr>
        <tr>
          <td><code>network</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>which network to use when building the Docker image</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>output</code></td>
          <td>
                <code><span title="typing.Dict">Dict</span>[str, str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Output destination
(format: <code>output={"type": "local", "dest": "path"}</code>
Possible output types are
<code>["local", "tar", "oci", "docker", "image", "registry"]</code>.
See <a href="https://github.com/docker/buildx#-o---outputpath-typetypekeyvalue">this link</a>
for more details about each exporter.</p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
        <tr>
          <td><code>platforms</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="typing.List">List</span>[str]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>List of target platforms when building the image. Ex:
<code>platforms=["linux/amd64", "linux/arm64"]</code></p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>progress</code></td>
          <td>
                <code><span title="typing.Literal">Literal</span>[&#39;auto&#39;, &#39;plain&#39;, &#39;tty&#39;, False]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Set type of progress output (auto, plain, tty, or False).
Use plain to keep the container output on screen</p>
            </div>
          </td>
          <td>
                <code>&#39;auto&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>provenance</code></td>
          <td>
                <code><span title="typing.Union">Union</span>[bool, <span title="typing.Dict">Dict</span>[str, str], None]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Shortand for <code>attest={"type": "provenance"}</code>.
Eg <code>provenance=True</code> or <code>provenance=dict(mode="max")</code>. <code>provenance=False</code> might be needed
if you are having the
issue <a href="https://github.com/docker/buildx/issues/1533">Default image output from buildx v0.10 cannot run on Google Cloud Run or AWS Lambda</a></p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>pull</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Always attempt to pull a newer version of the image</p>
            </div>
          </td>
          <td>
                <code>False</code>
          </td>
        </tr>
        <tr>
          <td><code>push</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Shorthand for <code>output=dict(type="registry")</code>.</p>
            </div>
          </td>
          <td>
                <code>False</code>
          </td>
        </tr>
        <tr>
          <td><code>sbom</code></td>
          <td>
                <code><span title="typing.Union">Union</span>[bool, <span title="typing.Dict">Dict</span>[str, str], None]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Shorthand for <code>attest={"type": "sbom"}</code>. Eg <code>sbom=True</code>.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>secrets</code></td>
          <td>
                <code><span title="typing.Union">Union</span>[str, <span title="typing.List">List</span>[str]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>One or more secrets passed as string(s). For example
<code>secrets="id=aws,src=/home/my_user/.aws/credentials"</code></p>
            </div>
          </td>
          <td>
                <code>[]</code>
          </td>
        </tr>
        <tr>
          <td><code>ssh</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>SSH agent socket or keys to expose to the build
(format is <code>default|&lt;id&gt;[=&lt;socket&gt;|&lt;key&gt;[,&lt;key&gt;]]</code> as a string)</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>tags</code></td>
          <td>
                <code><span title="typing.Union">Union</span>[str, <span title="typing.List">List</span>[str]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Tag or tags to put on the resulting image.</p>
            </div>
          </td>
          <td>
                <code>[]</code>
          </td>
        </tr>
        <tr>
          <td><code>target</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Set the target build stage to build.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>stream_logs</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If <code>True</code> this function will return an iterator of strings.
You can then read the logs as they arrive.</p>
            </div>
          </td>
          <td>
                <code>False</code>
          </td>
        </tr>
    </tbody>
  </table>
      <h3 id="python_on_whales.components.buildx.cli_wrapper.BuildxCLI.build--returns">Returns</h3>
<pre><code>A `python_on_whales.Image` if a Docker image is loaded
in the daemon after the build (the default behavior when
calling `docker.build(...)`). Otherwise, `None`.
</code></pre>

  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="python_on_whales.components.buildx.cli_wrapper.BuildxCLI.create" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">create</span>


</h2>
<div class="highlight"><pre><span></span><code><span class="n">create</span><span class="p">(</span><span class="n">context_or_endpoint</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">buildkitd_flags</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">platforms</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">driver</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">driver_options</span><span class="o">=</span><span class="p">{},</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">use</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Create a new builder instance</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>context_or_endpoint</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>buildkitd_flags</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Flags for buildkitd daemon</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>config</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="python_on_whales.utils.ValidPath">ValidPath</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>BuildKit config file</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>platforms</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="typing.List">List</span>[str]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Comma-separated list of platforms of the form OS/architecture/variant. Ex:
<code>platforms=["linux/amd64", "linux/arm64"]</code></p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>driver</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Driver to use (available: [kubernetes docker docker-container])</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>driver_options</code></td>
          <td>
                <code><span title="typing.Dict">Dict</span>[str, str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Options for the driver.
e.g <code>driver_options=dict(network="host")</code></p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
        <tr>
          <td><code>name</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Builder instance name</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>use</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Set the current builder instance to this builder</p>
            </div>
          </td>
          <td>
                <code>False</code>
          </td>
        </tr>
    </tbody>
  </table>
      <h3 id="python_on_whales.components.buildx.cli_wrapper.BuildxCLI.create--returns">Returns</h3>
<pre><code>A `python_on_whales.Builder` object.
</code></pre>

  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="python_on_whales.components.buildx.cli_wrapper.BuildxCLI.disk_usage" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">disk_usage</span>


</h2>
<div class="highlight"><pre><span></span><code><span class="n">disk_usage</span><span class="p">()</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Not yet implemented</p>

  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="python_on_whales.components.buildx.cli_wrapper.BuildxCLI.inspect" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">inspect</span>


</h2>
<div class="highlight"><pre><span></span><code><span class="n">inspect</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Returns a builder instance from the name.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>x</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If <code>None</code> (the default), returns the current builder. If a string is provided,
the builder that has this name is returned.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>
      <h3 id="python_on_whales.components.buildx.cli_wrapper.BuildxCLI.inspect--returns">Returns</h3>
<pre><code>A `python_on_whales.Builder` object.
</code></pre>

  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="python_on_whales.components.buildx.cli_wrapper.BuildxCLI.is_installed" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">is_installed</span>


</h2>
<div class="highlight"><pre><span></span><code><span class="n">is_installed</span><span class="p">()</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Returns <code>True</code> if docker buildx is installed and working.</p>
<p>If it's not installed, head
to <a href="https://github.com/docker/buildx#installing">the installation page</a>
and follow the instructions.</p>

  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="python_on_whales.components.buildx.cli_wrapper.BuildxCLI.list" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">list</span>


</h2>
<div class="highlight"><pre><span></span><code><span class="nb">list</span><span class="p">()</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Returns the list of <code>python_on_whales.Builder</code> available.</p>

  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="python_on_whales.components.buildx.cli_wrapper.BuildxCLI.prune" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">prune</span>


</h2>
<div class="highlight"><pre><span></span><code><span class="n">prune</span><span class="p">(</span><span class="nb">all</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">filters</span><span class="o">=</span><span class="p">{},</span> <span class="n">stream_logs</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Remove build cache on the current builder.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>all</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Remove all cache, not just dangling layers</p>
            </div>
          </td>
          <td>
                <code>False</code>
          </td>
        </tr>
        <tr>
          <td><code>filters</code></td>
          <td>
                <code><span title="typing.Dict">Dict</span>[str, str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Filters to use, for example <code>filters=dict(until="24h")</code></p>
            </div>
          </td>
          <td>
                <code>{}</code>
          </td>
        </tr>
        <tr>
          <td><code>stream_logs</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If <code>True</code> this function will return an iterator of strings.
You can then read the logs as they arrive. If <code>False</code> (the default value), then
the function returns <code>None</code>, but when it returns, then the prune operation has already been
done.</p>
            </div>
          </td>
          <td>
                <code>False</code>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="python_on_whales.components.buildx.cli_wrapper.BuildxCLI.remove" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">remove</span>


</h2>
<div class="highlight"><pre><span></span><code><span class="n">remove</span><span class="p">(</span><span class="n">builder</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Remove a builder</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>builder</code></td>
          <td>
                <code><span title="typing.Union">Union</span>[<a class="autorefs autorefs-internal" title="python_on_whales.components.buildx.cli_wrapper.Builder" href="../../docker_objects/builders/#python_on_whales.Builder">Builder</a>, str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The builder to remove</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="python_on_whales.components.buildx.cli_wrapper.BuildxCLI.stop" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">stop</span>


</h2>
<div class="highlight"><pre><span></span><code><span class="n">stop</span><span class="p">(</span><span class="n">builder</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Stop the builder instance</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>builder</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="python_on_whales.components.buildx.cli_wrapper.ValidBuilder">ValidBuilder</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The builder to stop. If <code>None</code> (the default value),
the current builder is stopped.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="python_on_whales.components.buildx.cli_wrapper.BuildxCLI.use" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">use</span>


</h2>
<div class="highlight"><pre><span></span><code><span class="n">use</span><span class="p">(</span><span class="n">builder</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">global_</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Set the current builder instance</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>builder</code></td>
          <td>
                <code><span title="typing.Union">Union</span>[<a class="autorefs autorefs-internal" title="python_on_whales.components.buildx.cli_wrapper.Builder" href="../../docker_objects/builders/#python_on_whales.Builder">Builder</a>, str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The builder to use</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>default</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Set builder as default for the current context</p>
            </div>
          </td>
          <td>
                <code>False</code>
          </td>
        </tr>
        <tr>
          <td><code>global_</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Builder will be used even when changing contexts</p>
            </div>
          </td>
          <td>
                <code>False</code>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="python_on_whales.components.buildx.cli_wrapper.BuildxCLI.version" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">version</span>


</h2>
<div class="highlight"><pre><span></span><code><span class="n">version</span><span class="p">()</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Returns the docker buildx version as a string.</p>
<pre><code class="language-python">from python_on_whales import docker

version = docker.buildx.version()
print(version)
# &quot;github.com/docker/buildx v0.4.2 fb7b670b764764dc4716df3eba07ffdae4cc47b2&quot;
</code></pre>

  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">



<h1 id="python_on_whales.components.buildx.imagetools.cli_wrapper.ImagetoolsCLI" class="doc doc-heading">
          <span class="doc doc-object-name doc-class-name">ImagetoolsCLI</span>


</h1>


  <div class="doc doc-contents first">



  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h2 id="python_on_whales.components.buildx.imagetools.cli_wrapper.ImagetoolsCLI.create" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">create</span>


</h2>
<div class="highlight"><pre><span></span><code><span class="n">create</span><span class="p">(</span><span class="n">sources</span><span class="o">=</span><span class="p">[],</span> <span class="n">tags</span><span class="o">=</span><span class="p">[],</span> <span class="n">append</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">files</span><span class="o">=</span><span class="p">[],</span> <span class="n">dry_run</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">builder</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Create a new manifest list based on source manifests.
The source manifests can be manifest lists or single platform distribution manifests and
must already exist in the registry where the new manifest is created.
If only one source is specified, create performs a carbon copy.</p>
<p>The CLI docs is <a href="https://docs.docker.com/engine/reference/commandline/buildx_imagetools_create/">here</a>
and it contains a lot more information.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>sources</code></td>
          <td>
                <code><span title="typing.List">List</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The sources manifest to create, change</p>
            </div>
          </td>
          <td>
                <code>[]</code>
          </td>
        </tr>
        <tr>
          <td><code>append</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Append to existing manifest</p>
            </div>
          </td>
          <td>
                <code>False</code>
          </td>
        </tr>
        <tr>
          <td><code>dry_run</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Show final image instead of pushing</p>
            </div>
          </td>
          <td>
                <code>False</code>
          </td>
        </tr>
        <tr>
          <td><code>files</code></td>
          <td>
                <code><span title="typing.List">List</span>[<span title="typing.Union">Union</span>[str, <span title="pathlib.Path">Path</span>]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Read source descriptor from file</p>
            </div>
          </td>
          <td>
                <code>[]</code>
          </td>
        </tr>
        <tr>
          <td><code>builder</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The builder to use.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="python_on_whales.components.buildx.imagetools.cli_wrapper.ImagetoolsCLI.inspect" class="doc doc-heading">
          <span class="doc doc-object-name doc-function-name">inspect</span>


</h2>
<div class="highlight"><pre><span></span><code><span class="n">inspect</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</code></pre></div>

  <div class="doc doc-contents ">
  
      <p>Returns the manifest of a Docker image in a registry without pulling it</p>

  </div>

</div>



  </div>

  </div>

</div><h2 id="notes-about-the-transition-between-the-legacy-builder-and-buildx">Notes about the transition between the legacy builder and buildx</h2>
<p>Users are encouraged to use buildx in Python-on-whales through the
<a href="./#build"><code>docker.build()</code></a> function.</p>
<p>Buildx is the next gen Docker builder and a transition is underway to make
the <code>docker build</code> shell command use buildx. Python-on-whales has had an opinionated
answer on the matter as <code>docker.build()</code> will always use buildx. This is because Python-on-whales was created 
during the transition and doesn't have an existing user codebase to support.</p>
<p>The legacy builder is still available by calling <a href="../image/#legacy_build"><code>docker.legacy_build()</code></a>, but note that</p>
<ul>
<li>It won't work if you use Docker 22.06 or above </li>
<li>It won't work if you used <code>docker.buildx.install()</code> or <code>docker buildx install</code> previously </li>
<li>It won't work if you had set the environment variable <code>DOCKER_BUILDKIT</code> to <code>1</code></li>
</ul>
<p>Some resources on the matter:</p>
<ul>
<li><a href="https://github.com/gabrieldemarmiesse/python-on-whales/issues/345">Discussion about supporting the legacy builder in Python-on-whales</a></li>
<li><a href="https://github.com/moby/moby/issues/40379">Proposal: make BuildKit the default builder on Linux</a></li>
<li><a href="https://github.com/docker/cli/blob/master/docs/deprecated.md#legacy-builder-for-linux-images">Deprecated Engine Features: Legacy builder for Linux images</a></li>
</ul>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.b4d07000.min.js"></script>
      
    
  </body>
</html>